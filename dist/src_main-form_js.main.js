(self.webpackChunkneonshopspb=self.webpackChunkneonshopspb||[]).push([["src_main-form_js"],{"./src/main-form.js":
/*!**************************!*\
  !*** ./src/main-form.js ***!
  \**************************/()=>{eval("const myModal = new bootstrap.Modal(document.getElementById('exampleModal'), {\r\n    keyboard: false\r\n});\r\n\r\nconst submitButton = document.querySelector('#send-main-btn');\r\n\r\nconst nameInput = document.getElementById('name');\r\nconst phoneInput = document.getElementById('phone');\r\n\r\nif (nameInput.value.trim() === '' || phoneInput.value.trim() === '') {\r\n  submitButton.setAttribute('disabled', 'disabled');\r\n} else {\r\n  submitButton.removeAttribute('disabled');\r\n}\r\n\r\n\r\nnameInput.addEventListener('input', function() {\r\n  this.value = this.value.replace(/[^a-zA-Zа-яА-Я]/g, '');\r\n  if (nameInput.value.trim() === '' || phoneInput.value.trim() === '') {\r\n    submitButton.setAttribute('disabled', 'disabled');\r\n} else {\r\n    submitButton.removeAttribute('disabled');\r\n}\r\n});\r\n\r\nphoneInput.addEventListener('input', function() {\r\n  this.value = this.value.replace(/\\D/g, '');\r\n  if (nameInput.value.trim() === '' || phoneInput.value.trim() === '') {\r\n    submitButton.setAttribute('disabled', 'disabled');\r\n} else {\r\n    submitButton.removeAttribute('disabled');\r\n}\r\n});\r\n// // Удаляем предыдущий обработчик события, если он существует\r\n// submitButton.removeEventListener('click', handleSubmitData);\r\n\r\nsubmitButton.addEventListener('click', handleSubmitData);\r\n\r\nasync function handleSubmitData(event) {\r\n  const name = document.getElementById('name').value;\r\n  const phone = document.getElementById('phone').value;\r\n\r\n  const data = {\r\n      name,\r\n      phone\r\n  };\r\n\r\n  const toastContainer = document.querySelector('.toast-container');\r\n\r\n  const formData = new FormData();\r\n  formData.append('name', data.name);\r\n  formData.append('phone', data.phone);\r\n\r\n  try {\r\n      const response = await fetch('https://neonshopspb.ru/send-php.php', {\r\n          method: 'POST',\r\n          body: formData\r\n      });\r\n      const responseData = await response.json();\r\n\r\n      if (responseData.status === 'success') {\r\n          console.log(responseData.message);\r\n\r\n          const toast = document.createElement('div');\r\n          toast.className = 'toast fade show';\r\n          toast.setAttribute('role', 'alert');\r\n          toast.setAttribute('aria-live', 'assertive');\r\n          toast.setAttribute('aria-atomic', 'true');\r\n\r\n          toast.innerHTML = `\r\n              <div class=\"toast-header\">\r\n                  <strong class=\"me-auto\">Ваша заявка ${name}</strong>\r\n                  <small>${new Date().toLocaleTimeString()}</small>\r\n                  <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"toast\" aria-label=\"Close\"></button>\r\n              </div>\r\n              <div class=\"toast-body\">\r\n                  Успешно отправлена\r\n              </div>`;\r\n\r\n          toastContainer.appendChild(toast);\r\n\r\n        \r\n\r\n          new bootstrap.Toast(toast).show();\r\n          myModal.hide();\r\n            // Удаляем предыдущий обработчик события, если он существует\r\n            // submitButton.removeEventListener('click', handleSubmitData);\r\n      } else {\r\n          console.error('Ошибка при отправке данных в Telegram.');\r\n          myModal.hide();\r\n      }\r\n  } catch (error) {\r\n      console.error('Ошибка при выполнении запроса:', error);\r\n      myModal.hide();\r\n  }\r\n}  \r\n\r\n\r\n\r\n\r\n\n\n//# sourceURL=webpack://neonshopspb/./src/main-form.js?")}}]);